<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roblox Maps</title>
<style>
body, html {margin:0; padding:0; overflow-x:hidden; font-family:'Tahoma'; background:black; color:white; height:100%;}
canvas {position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1;}

/* Navbar */
.navbar {position:fixed; top:0; width:100%; padding:1rem; background:rgba(0,0,0,0.8); display:flex; justify-content:space-between; align-items:center; z-index:1000;}
.logo {font-size:1.5rem;}
.menu-icon {font-size:1.5rem; cursor:pointer;}

/* Sidebar */
.sidebar {position:fixed; top:0; right:-250px; width:250px; height:100%; background:#111; padding:1rem; transition:0.3s; z-index:1000;}
.sidebar.active {right:0;}
.close-btn {float:left; background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;}
.sidebar ul {list-style:none; padding:0; margin-top:2rem;}
.sidebar li {margin:1rem 0;}
.sidebar a, .sidebar button {color:#00f; background:none; border:none; text-decoration:none; cursor:pointer; font-size:1rem;}
.sidebar a:hover, .sidebar button:hover {text-decoration:underline;}

/* Main container */
.container {max-width:800px; margin:6rem auto 2rem auto; padding:1rem;}
.section-title {font-size:1.5rem; margin-bottom:1rem; text-align:center;}

/* Files list */
.files-list {list-style:none; padding:0;}
.files-list li {
  background: rgba(0,0,0,0.6);
  padding:1rem;
  margin-bottom:1rem;
  border-radius:1rem;
  backdrop-filter:blur(5px);
  transition: transform 0.3s, opacity 0.5s;
  opacity:1;
}
.files-list li.hidden {opacity:0; transform: translateY(20px);}
.files-list li h2 {margin:0 0 0.5rem; font-size:1.2rem;}
.files-list li p {margin:0 0 1rem; color:#ccc;}
.files-list li a {background:#2563eb; color:white; padding:0.5rem 1rem; border-radius:0.5rem; text-decoration:none;}
.files-list li a:hover {background:#1e40af;}

/* Modal */
.modal {display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; overflow:auto; background: rgba(0,0,0,0.8);}
.modal-content {background:#111; margin:10% auto; padding:20px; border-radius:1rem; width:300px; text-align:center;}
.modal-content input, .modal-content textarea {width:90%; padding:0.5rem; margin:0.5rem 0; border-radius:0.5rem; border:none; background:#222; color:white;}
.modal-content button {padding:0.5rem 1rem; border:none; border-radius:0.5rem; background:#2563eb; color:white; cursor:pointer;}
.modal-content button:hover {background:#1e40af;}
.close {float:right; font-size:1.5rem; cursor:pointer;}

/* Animation */
@keyframes fadeInUp {from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);}}
</style>
</head>
<body>
<canvas id="stars"></canvas>

<header class="navbar">
<h1 class="logo">📂 Roblox Maps</h1>
<div class="menu-icon" id="menu-toggle">☰</div>
</header>

<aside class="sidebar" id="sidebar">
<button class="close-btn" id="close-sidebar">×</button>
<h2>⚙️ لوحة التحكم</h2>
<ul>
<li><button id="login-btn">🔑 تسجيل دخول</button></li>
<li><button id="owner-upload" style="display:none;">➕ إضافة ملف</button></li>
<li><button id="logout-btn" style="display:none;">🚪 تسجيل خروج</button></li>
</ul>
</aside>

<main class="container">
<h2 class="section-title">📂 الملفات المتاحة</h2>
<ul id="files-list" class="files-list">
<li><h2>مثال ماب 1</h2><p>وصف الملف 1</p><a href="#">⬇️ تحميل</a></li>
<li><h2>مثال ماب 2</h2><p>وصف الملف 2</p><a href="#">⬇️ تحميل</a></li>
</ul>
</main>

<!-- Login Modal -->
<div id="login-modal" class="modal">
<div class="modal-content">
<span class="close" id="close-login">&times;</span>
<h2>🔑 تسجيل دخول</h2>
<input type="password" id="password" placeholder="كلمة المرور">
<button id="login-submit">دخول</button>
<p id="login-error" style="color:red; display:none;">كلمة المرور غير صحيحة</p>
</div>
</div>

<!-- Upload Modal -->
<div id="upload-modal" class="modal">
<div class="modal-content">
<span class="close" id="close-upload">&times;</span>
<h2>➕ إضافة ملف جديد</h2>
<input type="text" id="file-name" placeholder="اسم الماب">
<textarea id="file-desc" placeholder="وصف الماب"></textarea>
<button id="upload-submit">رفع</button>
<p id="upload-msg" style="color:green; display:none;">تم رفع الملف (توضيحي)</p>
</div>
</div>

<script>
// Sidebar toggle
const menuToggle=document.getElementById('menu-toggle');
const sidebar=document.getElementById('sidebar');
const closeSidebar=document.getElementById('close-sidebar');
menuToggle.addEventListener('click',()=>sidebar.classList.add('active'));
closeSidebar.addEventListener('click',()=>sidebar.classList.remove('active'));

// Login modal
const loginBtn=document.getElementById('login-btn');
const loginModal=document.getElementById('login-modal');
const closeLogin=document.getElementById('close-login');
const loginSubmit=document.getElementById('login-submit');
const passwordInput=document.getElementById('password');
const loginError=document.getElementById('login-error');
const ownerUpload=document.getElementById('owner-upload');
const logoutBtn=document.getElementById('logout-btn');

loginBtn.addEventListener('click',()=>loginModal.style.display='block');
closeLogin.addEventListener('click',()=>loginModal.style.display='none');

loginSubmit.addEventListener('click',()=>{
  if(passwordInput.value==='497 The Top'){
    loginModal.style.display='none';
    ownerUpload.style.display='block';
    logoutBtn.style.display='block';
    loginBtn.style.display='none';
  }else loginError.style.display='block';
});

logoutBtn.addEventListener('click',()=>{
  ownerUpload.style.display='none';
  logoutBtn.style.display='none';
  loginBtn.style.display='block';
});

// Upload modal
const uploadModal=document.getElementById('upload-modal');
const closeUpload=document.getElementById('close-upload');
const uploadSubmit=document.getElementById('upload-submit');
const fileNameInput=document.getElementById('file-name');
const fileDescInput=document.getElementById('file-desc');
const uploadMsg=document.getElementById('upload-msg');

ownerUpload.addEventListener('click',()=>uploadModal.style.display='block');
closeUpload.addEventListener('click',()=>uploadModal.style.display='none');

uploadSubmit.addEventListener('click',()=>{
  if(fileNameInput.value && fileDescInput.value){
    const ul=document.getElementById('files-list');
    const li=document.createElement('li');
    li.classList.add('hidden');
    li.innerHTML=\`<h2>\${fileNameInput.value}</h2><p>\${fileDescInput.value}</p><a href="#">⬇️ تحميل</a>\`;
    ul.appendChild(li);
    // Animation
    setTimeout(()=>{li.classList.remove('hidden'); li.style.animation='fadeInUp 0.5s forwards';},10);
    uploadMsg.style.display='block';
    setTimeout(()=>{uploadMsg.style.display='none'; uploadModal.style.display='none'; fileNameInput.value=''; fileDescInput.value='';},2000);
  }
});

// Stars animation
const canvas=document.getElementById('stars');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
const ctx=canvas.getContext('2d');
const stars=[];
for(let i=0;i<200;i++){
  stars.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*1.5+0.5, dx:(Math.random()-0.5)*0.5, dy:(Math.random()-0.5)*0.5});
}
function animateStars(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle='white';
    ctx.fill();
    s.x+=s.dx; s.y+=s.dy;
    if(s.x<0)s.x=canvas.width;
    if(s.x>canvas.width)s.x=0;
    if(s.y<0)s.y=canvas.height;
    if(s.y>canvas.height)s.y=0;
  });
  requestAnimationFrame(animateStars);
}
animateStars();
</script>
</body>
</html>
